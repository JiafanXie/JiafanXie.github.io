import{bp as F,bq as J,ah as M,bm as $,ao as _,aC as d,o as g,c as x,b as e,w as l,aA as n,az as i,bV as q,V as v,ad as C,bb as G,bd as H,b8 as W,a as s,a2 as r,al as I,bR as K,cG as Q,aB as U,ba as X,bW as Y,aM as Z,af as j,ae as ee,av as te,a8 as le,d as p,ak as T,bf as ae,a4 as S,cH as se}from"./index-1b2cf765.js";const oe=F({id:"Contact",state:()=>({contacts:[]}),getters:{},actions:{async fetchContacts(){try{const m=await J.get("/api/contacts");this.contacts=m.data.contacts}catch(m){alert(m),console.log(m)}}}}),ne=p("mdi-account-multiple-plus"),de=p("Add Contact "),ue={class:"title text-white"},ie=p("Cancel"),re=p("Save"),ce=s("thead",null,[s("tr",null,[s("th",{class:"text-subtitle-1 font-weight-semibold"},"Id"),s("th",{class:"text-subtitle-1 font-weight-semibold"},"UserInfo"),s("th",{class:"text-subtitle-1 font-weight-semibold"},"Phone"),s("th",{class:"text-subtitle-1 font-weight-semibold"},"Joining Date"),s("th",{class:"text-subtitle-1 font-weight-semibold"},"Role"),s("th",{class:"text-subtitle-1 font-weight-semibold"},"Actions")])],-1),me={class:"text-subtitle-1"},fe={class:"d-flex align-center py-4"},ve={class:"ml-5"},pe={class:"text-h6 font-weight-semibold"},Ve={class:"text-subtitle-1 d-block mt-1 textSecondary"},be={class:"text-subtitle-1"},he={class:"text-subtitle-1"},_e={class:"d-flex align-center"},xe=M({setup(m){const w=oe();$(()=>{w.fetchContacts()}),_(()=>w.contacts);const y=d(!0),V=d(!1),b=d(""),B=d(["primary","secondary","error","success","warning"]),c=d(se),f=d(-1),o=d({id:"",avatar:"1.jpg",userinfo:"",usermail:"",phone:"",jdate:"",role:"",rolestatus:""}),z=d({id:"",avatar:"1.jpg",userinfo:"",usermail:"",phone:"",jdate:"",role:"",rolestatus:""}),A=_(()=>c.value.filter(u=>u.userinfo.toLowerCase().includes(b.value.toLowerCase())));function D(u){f.value=c.value.indexOf(u),o.value=Object.assign({},u),V.value=!0}function O(u){const a=c.value.indexOf(u);confirm("Are you sure you want to delete this item?")&&c.value.splice(a,1)}function k(){V.value=!1,setTimeout(()=>{o.value=Object.assign({},z.value),f.value=-1},300)}function P(){f.value>-1?Object.assign(c.value[f.value],o.value):c.value.push(o.value),k()}const R=_(()=>f.value===-1?"New Contact":"Edit Contact");return(u,a)=>{const L=S("PencilIcon"),N=S("TrashIcon");return g(),x(j,null,[e(U,null,{default:l(()=>[e(n,{cols:"12",lg:"4",md:"6"},{default:l(()=>[e(i,{density:"compact",modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=t=>b.value=t),label:"Search Contacts","hide-details":"",variant:"outlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",lg:"8",md:"6",class:"text-right"},{default:l(()=>[e(q,{modelValue:V.value,"onUpdate:modelValue":a[9]||(a[9]=t=>V.value=t),"max-width":"500"},{activator:l(({props:t})=>[e(v,C({color:"primary"},t,{flat:"",class:"ml-auto"}),{default:l(()=>[e(G,{class:"mr-2"},{default:l(()=>[ne]),_:1}),de]),_:2},1040)]),default:l(()=>[e(H,null,{default:l(()=>[e(W,{class:"pa-4 bg-secondary"},{default:l(()=>[s("span",ue,r(I(R)),1)]),_:1}),e(K,null,{default:l(()=>[e(Q,{ref:"form",modelValue:y.value,"onUpdate:modelValue":a[8]||(a[8]=t=>y.value=t),"lazy-validation":""},{default:l(()=>[e(U,null,{default:l(()=>[e(n,{cols:"12",sm:"6"},{default:l(()=>[e(i,{variant:"outlined","hide-details":"",modelValue:o.value.id,"onUpdate:modelValue":a[1]||(a[1]=t=>o.value.id=t),label:"Id"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(i,{variant:"outlined","hide-details":"",modelValue:o.value.userinfo,"onUpdate:modelValue":a[2]||(a[2]=t=>o.value.userinfo=t),label:"User info"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(i,{variant:"outlined","hide-details":"",modelValue:o.value.usermail,"onUpdate:modelValue":a[3]||(a[3]=t=>o.value.usermail=t),label:"User email",type:"email"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(i,{variant:"outlined","hide-details":"",modelValue:o.value.phone,"onUpdate:modelValue":a[4]||(a[4]=t=>o.value.phone=t),label:"Phone",type:"phone"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(i,{variant:"outlined","hide-details":"",modelValue:o.value.jdate,"onUpdate:modelValue":a[5]||(a[5]=t=>o.value.jdate=t),label:"Joining Date"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(i,{variant:"outlined","hide-details":"",modelValue:o.value.role,"onUpdate:modelValue":a[6]||(a[6]=t=>o.value.role=t),label:"Role"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"12"},{default:l(()=>[e(X,{variant:"outlined","hide-details":"",items:B.value,modelValue:o.value.rolestatus,"onUpdate:modelValue":a[7]||(a[7]=t=>o.value.rolestatus=t),label:"Role Background"},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(Y,{class:"pa-4"},{default:l(()=>[e(Z),e(v,{color:"error",onClick:k},{default:l(()=>[ie]),_:1}),e(v,{color:"secondary",disabled:o.value.userinfo==""||o.value.usermail=="",variant:"flat",onClick:P},{default:l(()=>[re]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(ae,{class:"mt-5"},{default:l(()=>[ce,s("tbody",null,[(g(!0),x(j,null,ee(I(A),t=>(g(),x("tr",{key:t.id},[s("td",me,r(t.id),1),s("td",null,[s("div",fe,[s("div",null,[e(te,{src:t.avatar,width:"45px",class:"rounded-circle img-fluid"},null,8,["src"])]),s("div",ve,[s("h4",pe,r(t.userinfo),1),s("span",Ve,r(t.usermail),1)])])]),s("td",be,r(t.phone),1),s("td",he,r(t.jdate),1),s("td",null,[e(le,{color:t.rolestatus,size:"small",label:""},{default:l(()=>[p(r(t.role),1)]),_:2},1032,["color"])]),s("td",null,[s("div",_e,[e(T,{text:"Edit"},{activator:l(({props:h})=>[e(v,C({icon:"",flat:"",onClick:E=>D(t)},h),{default:l(()=>[e(L,{"stroke-width":"1.5",size:"20",class:"text-primary"})]),_:2},1040,["onClick"])]),_:2},1024),e(T,{text:"Delete"},{activator:l(({props:h})=>[e(v,C({icon:"",flat:"",onClick:E=>O(t)},h),{default:l(()=>[e(N,{"stroke-width":"1.5",size:"20",class:"text-error"})]),_:2},1040,["onClick"])]),_:2},1024)])])]))),128))])]),_:1})],64)}}});export{xe as _};
