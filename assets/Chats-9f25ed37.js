import{_ as T}from"./BaseBreadcrumb.vue_vue_type_style_index_0_lang-a5d0d798.js";import{_ as j}from"./AppBaseCard.vue_vue_type_style_index_0_lang-d8a760cb.js";import{u as H,f as z,C as P,a as M}from"./ChatProfile-6aaacbbe.js";import{ah as D,aC as C,o as s,c as o,b as t,w as a,V as y,az as F,aK as L,a4 as h,ao as S,bk as V,a as e,a2 as _,al as l,af as b,ae as w,ab as m,a1 as v,aj as A,am as x,bl as q,d as E,aT as R,bm as U,au as K,aw as B,bd as O}from"./index-1b2cf765.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-5a0c5ef2.js";const J=D({setup(f){const r=C(""),u=H();function n(i){console.log(i),i.length!==0&&(u.sendMsg(u.chatContent,r.value),r.value="")}return(i,c)=>{const p=h("MoodSmileIcon"),g=h("SendIcon"),I=h("PhotoIcon"),$=h("PaperclipIcon");return s(),o("form",{class:"d-flex align-center pa-4",onSubmit:c[1]||(c[1]=L(k=>n(r.value),["prevent"]))},[t(y,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:a(()=>[t(p,{size:"24"})]),_:1}),t(F,{variant:"solo","hide-details":"",modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=k=>r.value=k),color:"primary",class:"shadow-none",density:"compact",placeholder:"Type a Message"},null,8,["modelValue"]),t(y,{icon:"",variant:"text",type:"submit",class:"text-medium-emphasis",disabled:!r.value},{default:a(()=>[t(g,{size:"20"})]),_:1},8,["disabled"]),t(y,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:a(()=>[t(I,{size:"20"})]),_:1}),t(y,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:a(()=>[t($,{size:"20"})]),_:1})],32)}}}),Q={key:0,class:"pa-6"},W={class:"text-h6 mb-3"},X={key:0},Y=["src"],Z={class:"text-h6 mb-3 mt-7"},tt=["src"],et={class:"pl-4"},st={class:"text-subtitle-1 font-weight-semibold"},at={class:"text-subtitle-2 mt-1"},ot=E(" No Attachments Found! "),nt=D({props:{chatDetail:Object},setup(f){const r=f,u=S(()=>{var i;return V.uniq(V.flatten((i=r.chatDetail)==null?void 0:i.chatHistory.map(c=>c.attachment))).length}),n=S(()=>{var i;return V.uniq(V.flatten((i=r.chatDetail)==null?void 0:i.chatHistory.map(c=>(c==null?void 0:c.type)==="img"?c.msg:null))).length-1});return(i,c)=>f.chatDetail?(s(),o("div",Q,[e("h6",W,"Media ("+_(l(n))+")",1),(s(!0),o(b,null,w(f.chatDetail.chatHistory,p=>(s(),o("div",{key:p.id},[p.type=="img"?(s(),o("div",X,[e("img",{src:p.msg,alt:"img",width:"100"},null,8,Y)])):m("",!0)]))),128)),e("h6",Z,"Attachments ("+_(l(u))+")",1),l(u)!=0?(s(),v(x,{key:0},{default:a(()=>[(s(!0),o(b,null,w(f.chatDetail.chatHistory,p=>(s(),o("div",{key:p.id},[(s(!0),o(b,null,w(p.attachment,g=>(s(),o("div",{class:"d-flex align-center mt-7",key:g.file},[t(A,{class:"rounded-md bg-grey100",size:"48"},{default:a(()=>[e("img",{width:"24",alt:"file",src:g.icon},null,8,tt)]),_:2},1024),e("div",et,[e("h6",st,_(g.file),1),e("h5",at,_(g.fileSize),1)])]))),128))]))),128))]),_:1})):(s(),v(x,{key:1},{default:a(()=>[t(q,{color:"error",type:"warning",density:"compact",variant:"tonal",class:"text-subtitle-1"},{default:a(()=>[ot]),_:1})]),_:1}))])):m("",!0)}}),lt={key:0,class:"customHeight"},it={class:"d-flex align-center gap-3 pa-4"},ct={class:"d-flex gap-2 align-center"},dt=["src"],rt={class:"text-h5 mb-n1"},ut={class:"textPrimary"},_t={class:"ml-auto d-flex"},mt={class:"d-flex"},pt={class:"w-100"},ht={key:0,class:"justify-end d-flex text-end mb-1"},ft={key:0,class:"text-medium-emphasis text-subtitle-2"},gt={class:"text-body-1"},xt=["src"],yt={key:1,class:"d-flex align-items-start gap-3 mb-1"},vt=["src"],bt={key:0,class:"text-medium-emphasis text-subtitle-2"},kt={class:"text-body-1"},Vt=["src"],wt={key:0,class:"right-sidebar"},Ct=D({setup(f){const{lgAndUp:r}=R(),u=H();U(()=>{u.fetchChats()});const n=S(()=>u.chats[u.chatContent-1]),i=C(!!r);function c(){i.value=!i.value}return(p,g)=>{const I=h("PhoneIcon"),$=h("VideoPlusIcon"),k=h("DotsVerticalIcon"),N=h("perfect-scrollbar");return l(n)?(s(),o("div",lt,[e("div",null,[e("div",it,[e("div",ct,[t(A,null,{default:a(()=>[e("img",{src:l(n).thumb,alt:"pro",width:"50"},null,8,dt)]),_:1}),t(K,{class:"badg-dotDetail",dot:"",color:l(n).status==="away"?"warning":l(n).status==="busy"?"error":l(n).status==="online"?"success":"containerBg"},null,8,["color"]),e("div",null,[e("h5",rt,_(l(n).name),1),e("small",ut,_(l(n).status),1)])]),e("div",_t,[t(y,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:a(()=>[t(I,{size:"24"})]),_:1}),t(y,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:a(()=>[t($,{size:"24"})]),_:1}),t(y,{icon:"",variant:"text",class:"text-medium-emphasis",onClick:c},{default:a(()=>[t(k,{size:"24"})]),_:1})])]),t(B),t(N,{class:"rightpartHeight"},{default:a(()=>[e("div",mt,[e("div",pt,[(s(!0),o(b,null,w(l(n).chatHistory,d=>(s(),o("div",{key:d.id,class:"pa-5"},[l(n).id===d.senderId?(s(),o("div",ht,[e("div",null,[d.createdAt?(s(),o("small",ft,_(l(z)(new Date(d.createdAt),{addSuffix:!1}))+" ago",1)):m("",!0),d.type=="text"?(s(),v(x,{key:1,class:"bg-grey100 rounded-md px-3 py-2 mb-1"},{default:a(()=>[e("p",gt,_(d.msg),1)]),_:2},1024)):m("",!0),d.type=="img"?(s(),v(x,{key:2,class:"mb-1"},{default:a(()=>[e("img",{src:d.msg,class:"rounded-md",alt:"pro",width:"250"},null,8,xt)]),_:2},1024)):m("",!0)])])):(s(),o("div",yt,[t(A,null,{default:a(()=>[e("img",{src:l(n).thumb,alt:"pro",width:"40"},null,8,vt)]),_:1}),e("div",null,[d.createdAt?(s(),o("small",bt,_(l(n).name)+", "+_(l(z)(new Date(d.createdAt),{addSuffix:!1}))+" ago ",1)):m("",!0),d.type=="text"?(s(),v(x,{key:1,class:"bg-grey100 rounded-md px-3 py-2 mb-1"},{default:a(()=>[e("p",kt,_(d.msg),1)]),_:2},1024)):m("",!0),d.type=="img"?(s(),v(x,{key:2,class:"mb-1"},{default:a(()=>[e("img",{src:d.msg,class:"rounded-md",alt:"pro",width:"250"},null,8,Vt)]),_:2},1024)):m("",!0)])]))]))),128))]),i.value?(s(),o("div",wt,[t(x,null,{default:a(()=>[t(nt,{chatDetail:l(n)},null,8,["chatDetail"])]),_:1})])):m("",!0)])]),_:1})]),t(B),t(J)])):m("",!0)}}}),Dt=D({setup(f){const r=C({title:"Chat app"}),u=C([{text:"Messenger",disabled:!0,href:"#"}]);return(n,i)=>(s(),o(b,null,[t(T,{title:r.value.title,breadcrumbs:u.value},null,8,["title","breadcrumbs"]),t(O,{elevation:"10"},{default:a(()=>[t(j,null,{leftpart:a(()=>[t(P),t(M)]),rightpart:a(()=>[t(Ct)]),mobileLeftContent:a(()=>[t(P),t(M)]),_:1})]),_:1})],64))}});const Mt=G(Dt,[["__scopeId","data-v-982ac120"]]);export{Mt as default};
